@using Northwind.Models
@model ProductPageViewModel

@{
    ViewData["Title"] = "Test";
}


<h1>Test</h1>

@if (User?.Identity?.IsAuthenticated ?? false)  //User Logged In
{
    if (Model.CanComment) //User Logged In and has Purchased Product
    {
        <div class="container">
            <form>
                <div class="form-group">
                    <label for="title">Rating Title</label>
                    <input type="text" class="form-control" />
                </div>
                <div class="form-group">
                    <label for="body">Comment:</label>
                    <textarea class="form-control-plaintext border"></textarea>
                </div>
                <input type="text" hidden id="addedBy" />
                <div id="star-area">
                    <input hidden id="rating-value" value="0" autocomplete="off" />
                    <i class="far fa-star rating-star fa-2x" id="rating-star-1" data-value="1"></i><i class="far fa-star rating-star fa-2x" id="rating-star-2" data-value="2"></i><i class="far fa-star rating-star fa-2x" id="rating-star-3" data-value="3"></i><i class="far fa-star rating-star fa-2x" id="rating-star-4" data-value="4"></i><i class="far fa-star rating-star fa-2x" id="rating-star-5" data-value="5"></i>
                </div>
                <button type="submit" class="btn btn-dark">Submit</button>
            </form>
        </div>
    }
    else  //User Logged In But Has Not Purchased Item
    {
        <p>Purchase This Item to Leave A Review</p>
    }
}
else  //User Not Logged In
{
    <p>Login to Leave A Review</p>
}
<!--
<div class="container">
    <form>
        <div class="form-group">
            <label for="title">Rating Title</label>
            <input type="text" class="form-control" />
        </div>
        <div class="form-group">
            <label for="body">Comment:</label>
            <textarea class="form-control-plaintext border"></textarea>
        </div>
        <input type="text" hidden id="addedBy" />
        <div id="star-area">
            <input hidden id="rating-value" value="0" autocomplete="off" />
            <i class="far fa-star rating-star" id="rating-star-1" data-value="1"></i><i class="far fa-star rating-star" id="rating-star-2" data-value="2"></i><i class="far fa-star rating-star" id="rating-star-3" data-value="3"></i><i class="far fa-star rating-star" id="rating-star-4" data-value="4"></i><i class="far fa-star rating-star" id="rating-star-5" data-value="5"></i>
        </div>
    </form>
</div>
-->

@section formScript {
    <script type="text/javascript" src="/js/commentform.js"></script>
}

